<!-- Auto-generated guidance for AI coding agents working on MCART -->
# MCART — Copilot / Agent Instructions

## Root solution & build

The main solution lives under `./src/` (see `src/MCART.slnx`).  
Use `dotnet build src/MCART.slnx` to build the whole repo (the solution file uses the `.slnx` extension – the cross‑platform format used by Visual Studio).  
To run tests: `dotnet test src/MCART.slnx --no-build`.

## Where code lives

Libraries are under `src/Lib/` (e.g. `src/Lib/MCART.Coloring`, `src/Lib/MCART.Mvvm`, `src/Lib/MCART.Windows`).  
All core libraries use the **`TheXDS.MCART`** NuGet prefix (e.g. the `Coloring` library is packaged as `TheXDS.MCART.Coloring`).

## Centralized MSBuild settings

Project‑wide configuration and compile options are in `src/Directory.Build.props` and `src/Directory.Build.targets`.  
These import many supporting files from `src/Targets/` (for packaging, versions, compile options).  
**Important:** changes here affect *all* projects.

## Build outputs and tests

Binaries and test output are placed under the repo `Build/` folder:
* `Build/bin/` – compiled binaries
* `Build/Tests/` – test results (default `dotnet test` location)
* `Build/Coverage/` – coverage reports generated by `ReportGenerator`

Example coverage command:
```powershell
dotnet test src/MCART.slnx --collect:"XPlat Code Coverage" --results-directory:./Build/Tests
reportgenerator -reports:./Build/Tests/*/coverage.cobertura.xml -targetdir:./Build/Coverage/
```

## Naming & conventions

* Projects and packages are prefixed with `TheXDS.MCART` / `MCART.*`.
* UI variants are split into platform‑targeted projects (WPF, Avalonia, WinForms, etc.) inside `src/Platform/`.

## Packaging & publishing

Packaging/version behavior is driven by `src/Targets/Package.targets` and `src/Directory.Build.props`.  
CI publishes NuGet packages with `dotnet pack --no-build`.  
Publish jobs are defined in `.github/workflows/*`.

## Useful quick commands

```powershell
dotnet build src/MCART.slnx
dotnet test src/MCART.slnx --no-build
dotnet test src/Lib/MCART.Coloring.Tests/MCART.Coloring.Tests.csproj
dotnet pack src/Lib/MCART.Coloring/MCART.Coloring.csproj --no-build
```

## When adding code

* Update the appropriate project file under `src/Lib/*`.  
* Add unit tests under the corresponding `*.Tests` project and run `dotnet test` locally.  
* Add XML documentation comments for public members/types.  The build treats missing XML comments as warnings.

## PR & review notes for agents

Keep changes minimal and focused to one concern (single project or fix).  
If modifying build/packaging, include a clear summary and tests demonstrating the change.